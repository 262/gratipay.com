from aspen import Response

[-----------------------------]

platform = website.platforms.get(path['platform'])
if platform is None:
    raise Response(404)

then, user = platform.handle_oauth_callback(request, website, user)
if then is not None:
    request.redirect(then)

[-----------------------------] text/plain

Caught!

{{ qs['code'] }}
