"""Given a email and password, return a boolean.
"""
from logstown.authentication import authenticate, sessions, User


# =========================================================================== 

email = request.body.one('email')
password = request.body.one('password')
problem = ""

session = {}
if email is not None:
    session = authenticate(email, password)
if not session:
    problem = "Sorry, those credentials are invalid."

request.user = User(session)
response.body = {"problem": problem}
